<div class="frame-container" style="position: relative; width: 100%; height: 100vh;">
  <!-- Username -->
  <p class="username-display mt-1 text-primary fw-bold">
    <%= current_user.username %>
  </p>

  <!-- Cadre principal SVG -->


  <!-- Form pour infliger des degats aux PJ -->
  <div class="container" id="container-damage">
    <% @users.each do |user| %>
      <%= form_with url: infliger_degats_path, method: :post, local: true, data: { controller: "damage-application", damage_application_target: "form" } do %>
        <!-- Inclure l'ID du joueur dans un champ cachÃ© -->
        <%= hidden_field_tag :user_id, user.id %>

        <div class="player-damage" data-controller="degats">
          <p><%= user.username %> - PV actuels : <span class="pv-current"><%= user.hp_current %></span></p>
          <div class="input-group custom-input-group">
            <%= button_tag "-", class: "btn btn-outline-secondary", data: { action: "click->degats#decrement" } %>
            <%= number_field_tag "damage", 1, class: "form-control custom-damage-input", min: 0, data: { "degats-target": "input", "damage-application-target": "input" } %>
            <%= button_tag "+", class: "btn btn-outline-secondary", data: { action: "click->degats#increment" } %>
          </div>
          <%= submit_tag "Go", class: "btn btn-outline-secondary", data: { action: "damage-application#applyDamage" } %>
        </div>
      <% end %>
    <% end %>
  </div>

  <%= link_to "Retour", current_user.group.name == "MJ" ? mj_dashboard_path : root_path, class: "btn btn-outline-success go-back" %>
</div>
